<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>CALCULADORA CLASIFICACION 1ª Nacional</title>
    <meta name="description" content="" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="style.css" type="text/css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;700&display=swap"
      rel="stylesheet"
    />

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  </head>
  <body>
    <img
      src="https://www.fbpa.es/imagenes/logo-fbpa.png"
      alt="FBPA logo"
      class="logo"
    />
    <h1>Calcular clasificación 1ª Nacional</h1>

    <table>
      <thead>
        <tr>
          <th>N°</th>
          <th>Nombre</th>
          <th>Puntos</th>
        </tr>
      </thead>
      <tbody id="clasificacion">
        <tr>
          <td class="poscion">1</td>
          <td class="equipo">OVIEDO</td>
          <td class="puntos">26</td>
        </tr>
        <tr>
          <td class="poscion">2</td>
          <td class="equipo">ATLETICA</td>
          <td class="puntos">26</td>
        </tr>

        <tr>
          <td class="poscion">3</td>
          <td class="equipo">CASTRILLÓN</td>
          <td class="puntos">22</td>
        </tr>

        <tr>
          <td class="poscion">4</td>
          <td class="equipo">GIJON BASKET</td>
          <td class="puntos">21</td>
        </tr>

        <tr>
          <td class="poscion">5</td>
          <td class="equipo">GRUPO</td>
          <td class="puntos">20</td>
        </tr>

        <tr>
          <td class="poscion">6</td>
          <td class="equipo">ARTCHIVO</td>
          <td class="puntos">19</td>
        </tr>

        <tr>
          <td class="poscion">7</td>
          <td class="equipo">NOREÑA</td>
          <td class="puntos">19</td>
        </tr>

        <tr>
          <td class="poscion">8</td>
          <td class="equipo">AVILES SUR</td>
          <td class="puntos">19</td>
        </tr>

        <tr>
          <td class="poscion">9</td>
          <td class="equipo">PUMARIN</td>
          <td class="puntos">19</td>
        </tr>

        <tr>
          <td class="poscion">10</td>
          <td class="equipo">SANFER</td>
          <td class="puntos">18</td>
        </tr>

        <tr>
          <td class="poscion">11</td>
          <td class="equipo">NAVIA</td>
          <td class="puntos">16</td>
        </tr>
        <!-- ... -->
      </tbody>
    </table>

    <br /><br />
    <form>
      <!-- Jornada 16 -->
      <div class="partido-group jornada16">
        <h3>Jornada 16</h3>

        <label>PUMARIN vs NOREÑA:</label>
        <select name="PUMARIN vs NOREÑA">
          <option value="">Seleccionar</option>
          <option value="PUMARIN">PUMARIN</option>
          <option value="NOREÑA">NOREÑA</option>
        </select>

        <label>ATLETICA vs OVIEDO:</label>
        <select name="ATLETICA vs OVIEDO">
          <option value="">Seleccionar</option>
          <option value="ATLETICA">ATLETICA</option>
          <option value="OVIEDO">OVIEDO</option>
        </select>

        <label>ARTCHIVO vs AVILES SUR:</label>
        <select name="ARTCHIVO vs AVILES SUR">
          <option value="">Seleccionar</option>
          <option value="ARTCHIVO">ARTCHIVO</option>
          <option value="AVILES SUR">AVILES SUR</option>
        </select>

        <label>GIJON BASKET vs CASTRILLON:</label>
        <select name="GIJON BASKET vs CASTRILLON">
          <option value="">Seleccionar</option>
          <option value="GIJON BASKET">GIJON BASKET</option>
          <option value="CASTRILLON">CASTRILLON</option>
        </select>

        <label>SANFER vs CB NAVIA:</label>
        <select name="SANFER vs CB NAVIA">
          <option value="">Seleccionar</option>
          <option value="SANFER">SANFER</option>
          <option value="CB NAVIA">CB NAVIA</option>
        </select>
      </div>

      <!-- Jornada 17-->
      <div class="partido-group jornada17">
        <h3>Jornada 17</h3>

        <label>CB NAVIA vs CASTRILLON:</label>
        <select>
          <option value="">Seleccionar</option>
          <option value="CB NAVIA">CB NAVIA</option>
          <option value="CASTRILLON">CASTRILLON</option>
        </select>

        <label>ARTCHIVO vs GIJON BASKET:</label>
        <select>
          <option value="">Seleccionar</option>
          <option value="ARTCHIVO">ARTCHIVO</option>
          <option value="GIJON BASKET">GIJON BASKET</option>
        </select>

        <label>OVIEDO vs AVILES SUR:</label>
        <select>
          <option value="">Seleccionar</option>
          <option value="OVIEDO">OVIEDO</option>
          <option value="AVILES SUR">AVILES SUR</option>
        </select>

        <label>ATLETICA vs PUMARIN:</label>
        <select>
          <option value="">Seleccionar</option>
          <option value="OVIEDO">ATLETICA</option>
          <option value="AVILES SUR">PUMARIN</option>
        </select>

        <label>GRUPO vs NOREÑA:</label>
        <select>
          <option value="">Seleccionar</option>
          <option value="GRUPO">GRUPO</option>
          <option value="NOREÑA">NOREÑA</option>
        </select>
      </div>

      <!-- Jornada 18-->
      <div class="partido-group jornada18">
        <h3>Jornada 18</h3>

        <label>GRUPO vs ATLETICA:</label>
        <select name="GRUPO vs ATLETICA">
          <option value="">Seleccionar</option>
          <option value="GRUPO">GRUPO</option>
          <option value="ATLETICA">ATLETICA</option>
        </select>

        <label>PUMARIN vs AVILES SUR:</label>
        <select name="PUMARIN vs AVILES SUR">
          <option value="">Seleccionar</option>
          <option value="PUMARIN">PUMARIN</option>
          <option value="AVILES SUR">AVILES SUR</option>
        </select>

        <label>OVIEDO vs GIJON BASKET:</label>
        <select name="OVIEDO vs GIJON BASKET">
          <option value="">Seleccionar</option>
          <option value="OVIEDO">OVIEDO</option>
          <option value="GIJON BASKET">GIJON BASKET</option>
        </select>

        <label>ARTCHIVO vs CB NAVIA:</label>
        <select name="ARTCHIVO vs CB NAVIA">
          <option value="">Seleccionar</option>
          <option value="ARTCHIVO">ARTCHIVO</option>
          <option value="CB NAVIA">CB NAVIA</option>
        </select>

        <label>CASTRILLON vs SANFER:</label>
        <select name="CASTRILLON vs SANFER">
          <option value="">Seleccionar</option>
          <option value="CASTRILLON">CASTRILLON</option>
          <option value="SANFER">SANFER</option>
        </select>
      </div>

      <!-- Jornada 19-->
      <div class="partido-group jornada19">
        <h3>Jornada 19</h3>

        <label>ARTCHIVO vs SANFER:</label>
        <select name="ARTCHIVO vs SANFER">
          <option value="">Seleccionar</option>
          <option value="ARTCHIVO">ARTCHIVO</option>
          <option value="SANFER">SANFER</option>
        </select>

        <label>OVIEDO vs CB NAVIA:</label>
        <select name="OVIEDO vs CB NAVIA">
          <option value="">Seleccionar</option>
          <option value="OVIEDO">OVIEDO</option>
          <option value="CB NAVIA">CB NAVIA</option>
        </select>

        <label>GIJON BASKET vs PUMARIN:</label>
        <select name="GIJON BASKET vs PUMARIN">
          <option value="">Seleccionar</option>
          <option value="GIJON BASKET">GIJON BASKET</option>
          <option value="PUMARIN">PUMARIN</option>
        </select>

        <label>GRUPO vs AVILES SUR:</label>
        <select name="GRUPO vs AVILES SUR">
          <option value="">Seleccionar</option>
          <option value="GRUPO">GRUPO</option>
          <option value="AVILES SUR">AVILES SUR</option>
        </select>

        <label>ATLETICA vs NOREÑA:</label>
        <select name="ATLETICA vs NOREÑA">
          <option value="">Seleccionar</option>
          <option value="ATLETICA">ATLETICA</option>
          <option value="NOREÑA">NOREÑA</option>
        </select>
      </div>

      <div class="partido-group jornada20">
        <h3>Jornada 20</h3>

        <label>NOREÑA vs AVILES SUR:</label>
        <select name="NOREÑA vs AVILES SUR">
          <option value="">Seleccionar</option>
          <option value="NOREÑA">NOREÑA</option>
          <option value="AVILES SUR">AVILES SUR</option>
        </select>

        <label>GRUPO vs GIJON BASKET:</label>
        <select name="GRUPO vs GIJON BASKET">
          <option value="">Seleccionar</option>
          <option value="GRUPO">GRUPO</option>
          <option value="GIJON BASKET">GIJON BASKET</option>
        </select>

        <label>PUMARIN vs CB NAVIA:</label>
        <select name="PUMARIN vs CB NAVIA">
          <option value="">Seleccionar</option>
          <option value="PUMARIN">PUMARIN</option>
          <option value="CB NAVIA">CB NAVIA</option>
        </select>

        <label>OVIEDO vs SANFER:</label>
        <select name="OVIEDO vs SANFER">
          <option value="">Seleccionar</option>
          <option value="OVIEDO">OVIEDO</option>
          <option value="SANFER">SANFER</option>
        </select>

        <label>ARTCHIVO vs CASTRILLON:</label>
        <select name="ARTCHIVO vs CASTRILLON">
          <option value="">Seleccionar</option>
          <option value="ARTCHIVO">ARTCHIVO</option>
          <option value="CASTRILLON">CASTRILLON</option>
        </select>
      </div>

      <div class="partido-group jornada21">
        <h3>Jornada 21</h3>

        <label>OVIEDO vs CASTRILLON:</label>
        <select name="OVIEDO vs CASTRILLON">
          <option value="">Seleccionar</option>
          <option value="OVIEDO">OVIEDO</option>
          <option value="CASTRILLON">CASTRILLON</option>
        </select>

        <label>SANFER vs PUMARIN:</label>
        <select name="SANFER vs PUMARIN">
          <option value="">Seleccionar</option>
          <option value="SANFER">SANFER</option>
          <option value="PUMARIN">PUMARIN</option>
        </select>

        <label>GRUPO vs CB NAVIA:</label>
        <select name="GRUPO vs CB NAVIA">
          <option value="">Seleccionar</option>
          <option value="GRUPO">GRUPO</option>
          <option value="CB NAVIA">CB NAVIA</option>
        </select>

        <label>GIJON BASKET vs NOREÑA:</label>
        <select name="GIJON BASKET vs NOREÑA">
          <option value="">Seleccionar</option>
          <option value="GIJON BASKET">GIJON BASKET</option>
          <option value="NOREÑA">NOREÑA</option>
        </select>

        <label>AVILES SUR vs ATLETICA:</label>
        <select name="AVILES SUR vs ATLETICA">
          <option value="">Seleccionar</option>
          <option value="AVILES SUR">AVILES SUR</option>
          <option value="ATLETICA">ATLETICA</option>
        </select>
      </div>

      <div class="partido-group jornada22">
        <h3>Jornada 22</h3>

        <label>ATLETICA vs GIJON BASKET:</label>
        <select name="ATLETICA vs GIJON BASKET">
          <option value="">Seleccionar</option>
          <option value="ATLETICA">ATLETICA</option>
          <option value="GIJON BASKET">GIJON BASKET</option>
        </select>

        <label>NOREÑA vs CB NAVIA:</label>
        <select name="NOREÑA vs CB NAVIA">
          <option value="">Seleccionar</option>
          <option value="NOREÑA">NOREÑA</option>
          <option value="CB NAVIA">CB NAVIA</option>
        </select>

        <label>GRUPO vs SANFER:</label>
        <select name="GRUPO vs SANFER">
          <option value="">Seleccionar</option>
          <option value="GRUPO">GRUPO</option>
          <option value="SANFER">SANFER</option>
        </select>

        <label>PUMARIN vs CASTRILLON:</label>
        <select name="PUMARIN vs CASTRILLON">
          <option value="">Seleccionar</option>
          <option value="PUMARIN">PUMARIN</option>
          <option value="CASTRILLON">CASTRILLON</option>
        </select>

        <label>OVIEDO vs ARTCHIVO:</label>
        <select name="OVIEDO vs ARTCHIVO">
          <option value="">Seleccionar</option>
          <option value="OVIEDO">OVIEDO</option>
          <option value="ARTCHIVO">ARTCHIVO</option>
        </select>
      </div>
    </form>

    <!-- Botones para controlar la paginación -->
    <div class="pagination">
      <button class="pagination-item" id="next">Siguiente jornada</button>
      <button class="pagination-item" id="prev">Anterior jornada</button>
    </div>

    <!-- Código JavaScript para la paginación -->
    <script>
      const jornadas = document.querySelectorAll(".partido-group");
      let currentPage = 0;
      function showPage() {
        jornadas.forEach((jornada, index) => {
          if (index === currentPage) {
            jornada.style.display = "block";
          } else {
            jornada.style.display = "none";
          }
        });
      }
      showPage();
      document.querySelector("#next").addEventListener("click", () => {
        currentPage = Math.min(jornadas.length - 1, currentPage + 1);
        showPage();
      });
      document.querySelector("#prev").addEventListener("click", () => {
        currentPage = Math.max(0, currentPage - 1);
        showPage();
      });
    </script>

    <script>
      const clasificacion = document.querySelector("#clasificacion");
      const selectPartidos = document.querySelectorAll("select");

      // Array para almacenar los resultados
      let resultados = [];

      // Función para calcular la clasificación
      function calcularClasificacion() {
        // Recorremos todas las selecciones de partidos
        selectPartidos.forEach((select) => {
          // Si no está vacía y el partido aún no se ha contado, añadimos el resultado al array
          if (select.value !== "" && !resultados.includes(select.value)) {
            resultados.push(select.value);
          }
        });

        // Recorremos cada fila de la tabla clasificación
        clasificacion.querySelectorAll("tr").forEach((fila) => {
          // Si el equipo de la fila ha ganado un partido, sumamos 2 puntos
          if (resultados.includes(fila.querySelector(".equipo").textContent)) {
            let puntos = parseInt(fila.querySelector(".puntos").textContent);
            fila.querySelector(".puntos").textContent = puntos + 2;
          }
        });

        // Añadimos 1 punto al equipo no seleccionado
        // Añadimos 1 punto al equipo no seleccionado
        selectPartidos.forEach((select) => {
          if (select.value !== "") {
            // Obtenemos los equipos de la selección actual
            let equipos = select.value.split(" - ");
            let perdedor = equipos.filter(
              (equipo) => !resultados.includes(equipo)
            )[0];

            // Si hay un equipo perdedor, sumamos 1 punto
            if (perdedor) {
              clasificacion.querySelectorAll("tr").forEach((fila) => {
                if (fila.querySelector(".equipo").textContent === perdedor) {
                  let puntos = parseInt(
                    fila.querySelector(".puntos").textContent
                  );
                  fila.querySelector(".puntos").textContent = puntos + 1;
                }
              });
            }
          }
        });

        

        // Ordenamos la tabla según los puntos
        let filasOrdenadas = Array.from(
          clasificacion.querySelectorAll("tr")
        ).sort(
          (a, b) =>
            parseInt(b.querySelector(".puntos").textContent) -
            parseInt(a.querySelector(".puntos").textContent)
        );

        // Actualizamos la posición de cada equipo en la tabla
        filasOrdenadas.forEach((fila, index) => {
          fila.querySelector(".poscion").textContent = index + 1;
          clasificacion.appendChild(fila);
        });
      }

      // Asignamos la función a cada selección de partidos
      selectPartidos.forEach((select) => {
        select.addEventListener("change", calcularClasificacion);
      });
    </script>
  </body>
</html>
