<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>CALCULADORA CLASIFICACION 1ª Nacional</title>
    <meta name="description" content="" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="style.css" type="text/css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;700&display=swap"
      rel="stylesheet"
    />

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  </head>
  <body>
    <img
      src="https://www.fbpa.es/imagenes/logo-fbpa.png"
      alt="FBPA logo"
      class="logo"
    />
    <h1>Calcular clasificación 1ª Nacional</h1>
    
  
    <form>
    
 
      

      <div class="partido-group jornada21">



        <h3>Jornada 18</h3>

        <label>CASTRILLON vs SANFER:</label>
        <select name="CASTRILLON vs SANFER">
          <option value="">Seleccionar</option>
          <option value="CASTRILLON">CASTRILLON</option>
          <option value="SANFER">SANFER</option>
        </select>
        <h3>Jornada 20</h3>

        <label>NOREÑA vs AVILES SUR:</label>
        <select name="NOREÑA vs AVILES SUR">
          <option value="">Seleccionar</option>
          <option value="NOREÑA">NOREÑA</option>
          <option value="AVILES SUR">AVILES SUR</option>
        </select>
        <h3>Jornada 21</h3>

        <label>OVIEDO vs CASTRILLON:</label>
        <select name="OVIEDO vs CASTRILLON">
          <option value="">Seleccionar</option>
          <option value="OVIEDO">OVIEDO</option>
          <option value="CASTRILLON">CASTRILLON</option>
        </select>

        <label>SANFER vs PUMARIN:</label>
        <select name="SANFER vs PUMARIN">
          <option value="">Seleccionar</option>
          <option value="SANFER">SANFER</option>
          <option value="PUMARIN">PUMARIN</option>
        </select>

        <label>GRUPO vs CB NAVIA:</label>
        <select name="GRUPO vs CB NAVIA">
          <option value="">Seleccionar</option>
          <option value="GRUPO">GRUPO</option>
          <option value="CB NAVIA">CB NAVIA</option>
        </select>

        <label>GIJON BASKET vs NOREÑA:</label>
        <select name="GIJON BASKET vs NOREÑA">
          <option value="">Seleccionar</option>
          <option value="GIJON BASKET">GIJON BASKET</option>
          <option value="NOREÑA">NOREÑA</option>
        </select>

        <label>AVILES SUR vs ATLETICA:</label>
        <select name="AVILES SUR vs ATLETICA">
          <option value="">Seleccionar</option>
          <option value="AVILES SUR">AVILES SUR</option>
          <option value="ATLETICA">ATLETICA</option>
        </select>
      </div>

      <div class="partido-group jornada22">
        <h3>Jornada 22</h3>

        <label>ATLETICA vs GIJON BASKET:</label>
        <select name="ATLETICA vs GIJON BASKET">
          <option value="">Seleccionar</option>
          <option value="ATLETICA">ATLETICA</option>
          <option value="GIJON BASKET">GIJON BASKET</option>
        </select>

        <label>NOREÑA vs CB NAVIA:</label>
        <select name="NOREÑA vs CB NAVIA">
          <option value="">Seleccionar</option>
          <option value="NOREÑA">NOREÑA</option>
          <option value="CB NAVIA">CB NAVIA</option>
        </select>

        <label>GRUPO vs SANFER:</label>
        <select name="GRUPO vs SANFER">
          <option value="">Seleccionar</option>
          <option value="GRUPO">GRUPO</option>
          <option value="SANFER">SANFER</option>
        </select>

        <label>PUMARIN vs CASTRILLON:</label>
        <select name="PUMARIN vs CASTRILLON">
          <option value="">Seleccionar</option>
          <option value="PUMARIN">PUMARIN</option>
          <option value="CASTRILLON">CASTRILLON</option>
        </select>

        <label>OVIEDO vs ARTCHIVO:</label>
        <select name="OVIEDO vs ARTCHIVO">
          <option value="">Seleccionar</option>
          <option value="OVIEDO">OVIEDO</option>
          <option value="ARTCHIVO">ARTCHIVO</option>
        </select>
      </div>
    </form>

    <!-- Botones para controlar la paginación -->
    <div class="pagination">
      <button class="pagination-item" id="prev">Anterior jornada</button>
      <button class="pagination-item" id="next">Siguiente jornada</button>
     
    </div>

    <div class="calcular">
      <button class="calcular" id="reset">Reiniciar resultados</button>
    </div>
    <br />

    <table>
      <thead>
        <tr>
          <th>N°</th>
          <th>Nombre</th>
          <th>Puntos</th>
        </tr>
      </thead>
      <tbody id="clasificacion">
        <tr>
          <td class="poscion">1</td>
          <td class="equipo">OVIEDO</td>
          <td class="puntos">36</td>
        </tr>
        <tr>
          <td class="poscion">2</td>
          <td class="equipo">ATLETICA</td>
          <td class="puntos">33</td>
        </tr>

        <tr>
          <td class="poscion">3</td>
          <td class="equipo">AVILES SUR</td>
          <td class="puntos">26</td>
        </tr>

        <tr>
          <td class="poscion">4</td>
          <td class="equipo">ARTCHIVO</td>
          <td class="puntos">26</td>
        </tr>

        <tr>
          <td class="poscion">5</td>
          <td class="equipo">CASTRILLON</td>
          <td class="puntos">26</td>
        </tr>

    
        <tr>
          <td class="poscion">6</td>
          <td class="equipo">GIJON BASKET</td>
          <td class="puntos">26</td>
        </tr>

             
        <tr>
          <td class="poscion">7</td>
          <td class="equipo">GRUPO</td>
          <td class="puntos">25</td>
        </tr>

        <tr>
          <td class="poscion">8</td>
          <td class="equipo">PUMARIN</td>
          <td class="puntos">24</td>
        </tr>


        <tr>
          <td class="poscion">9</td>
          <td class="equipo">NOREÑA</td>
          <td class="puntos">23</td>
        </tr> 

  

        <tr>
          <td class="poscion">10</td>
          <td class="equipo">CB NAVIA</td>
          <td class="puntos">23</td>
        </tr>

        <tr>
          <td class="poscion">11</td>
          <td class="equipo">SANFER</td>
          <td class="puntos">23</td>
        </tr>

      
        <!-- ... -->
      </tbody>
    </table>

    <br />

    <section id="playoffs-container">
      <section id="playoffs">
        <h2>Cruces de playoffs</h2>
        <div class="playoff-matchup" id="matchup-1">
          <label>Equipo 1 vs Equipo 8</label>
        </div>
        <div class="playoff-matchup" id="matchup-2">
          <label>Equipo 2 vs Equipo 7</label>
        </div>
        <div class="playoff-matchup" id="matchup-3">
          <label>Equipo 3 vs Equipo 6</label>
        </div>
        <div class="playoff-matchup" id="matchup-4">
          <label>Equipo 4 vs Equipo 5</label>
        </div>
      </section>      
  </section>
    <br>
    <br>
    </body>

    <!-- Código JavaScript para la paginación -->
    <script>
      const jornadas = document.querySelectorAll(".partido-group");
      let currentPage = 0;
      function showPage() {
        jornadas.forEach((jornada, index) => {
          if (index === currentPage) {
            jornada.style.display = "block";
          } else {
            jornada.style.display = "none";
          }
        });
      }
      showPage();
      document.querySelector("#next").addEventListener("click", () => {
        currentPage = Math.min(jornadas.length - 1, currentPage + 1);
        showPage();
      });
      document.querySelector("#prev").addEventListener("click", () => {
        currentPage = Math.max(0, currentPage - 1);
        showPage();
      });
    </script>
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const clasificacion = document.querySelector('#clasificacion');
      const selects = document.querySelectorAll('select');
      const resetBtn = document.querySelector('#reset');
      const playoff = document.querySelector('#playoff');
  
      resetBtn.addEventListener('click', function() {
        location.reload();
      });
  
      for (let i = 0; i < selects.length; i++) {
        selects[i].addEventListener('change', function() {
          const ganador = this.value;
          const perdedor = (this.selectedIndex === 1) ? this.children[2].value : this.children[1].value;
          if (!ganador || !perdedor) return;
  
          for (let j = 0; j < clasificacion.children.length; j++) {
            if (clasificacion.children[j].children[1].textContent === ganador) {
              clasificacion.children[j].children[2].textContent = parseInt(clasificacion.children[j].children[2].textContent, 10) + 2;
            }
  
            if (clasificacion.children[j].children[1].textContent === perdedor) {
              clasificacion.children[j].children[2].textContent = parseInt(clasificacion.children[j].children[2].textContent, 10) + 1;
            }
          }
  
          this.setAttribute('disabled', true);
          reordenarClasificacion();
          generarPlayoff();
        });
      }
  
      function reordenarClasificacion() {
        const filas = [...clasificacion.children];
        filas.sort((a, b) => parseInt(b.children[2].textContent, 10) - parseInt(a.children[2].textContent, 10));
  
        for (let i = 0; i < filas.length; i++) {
          clasificacion.appendChild(filas[i]);
          filas[i].children[0].textContent = i + 1;
  
          if (i == filas.length - 1) {
            filas[i].style.color = "red";
          } else if (i == filas.length - 2 || i == filas.length - 3) {
            filas[i].style.color = "orange";
          } else {
            filas[i].style.color = "green";
          }
        }

        const playoffsSection = document.querySelector('#playoffs');

  // Actualizar los partidos de playoffs con los nuevos equipos
  const equiposClasificados = filas.map(fila => fila.children[1].textContent);
  const partidos = playoffsSection.querySelectorAll('.playoff-matchup label');
  partidos[0].textContent = `Partido 1: ${equiposClasificados[0]} vs ${equiposClasificados[7]}`;
  partidos[1].textContent = `Partido 2: ${equiposClasificados[1]} vs ${equiposClasificados[6]}`;
  partidos[2].textContent = `Partido 3: ${equiposClasificados[2]} vs ${equiposClasificados[5]}`;
  partidos[3].textContent = `Partido 4: ${equiposClasificados[3]} vs ${equiposClasificados[4]}`;
      }
      
      function generarPlayoff() {
        playoff.innerHTML = '';
  
        const equipos = [...clasificacion.children].map(fila => fila.children[1].textContent);
        const cruces = [        [equipos[0], equipos[7]],
          [equipos[1], equipos[6]],
          [equipos[2], equipos[5]],
          [equipos[3], equipos[4]]
        ];
  
        for (let i = 0; i < cruces.length; i++) {
          const partido = document.createElement('label');
          partido.textContent = `${cruces[i][0]} vs ${cruces[i][1]}`;
          playoff.appendChild(partido);
        }
      }
    });
  </script>
  


  
  </body>
</html>
